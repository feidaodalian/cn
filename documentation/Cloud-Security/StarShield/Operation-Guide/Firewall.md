
# 防火墙

**安全加速 应用防火墙WAF说明**

安全加速的应用防火墙功能可检查 Web 流量以识别可疑活动。它能够根据您指定的规则集自动过滤非法流量。查看基于 GET 和 POST 的 HTTP 请求并应用规则集（如涵盖 OWASP Top 10 的漏洞的核心规则集），确定阻止、挑战或予以通过的流量。也可以阻止垃圾评论、跨站点脚本攻击和 SQL 注入。


WAF的作用是检查对您网站的HTTP请求，通过检查GET和POST请求，应用规则来帮助过滤掉访问中的非法流量。如果安全加速确定了可疑用户行为，则WAF将通过页面“挑战”此访问者，
此页面需要访问者成功提交验证码才可以继续进行操作。如果挑战失败，则该操作将会被拦截。这意味着 WAF将阻止被识别的任何非法流量到达源站服务器。

可以通过设置规则集的敏感程度，确定强制执行安全策略的严格程度。

确定适合站点的设置取决于多种因素。比如，如果您的企业业务包括大型文件上传到源服务器，则将敏感度以及安全级别降低更为合适。
从安全防御角度，上传大文件是一种常见的攻击方式，将会触发防火墙规则。

如果您需要站点的某些URL绕过防火墙规则，我们建议您设置页面规则，用来排除避免受到WAF的影响。

**OWASP Top 10 核心规则**

通过配置安全加速的OWASP Top 10核心规则，增强站点安全性，核心规则集主要覆盖OWASP Top10的攻击行为。
OWASP 核心规则集根据触发的OWASP规则为每个请求分配分数。某些OWASP规则的敏感度得分高于其他规则。OWASP评估请求后，安全加速会将最终分数与为该域配置的敏感度进行比较。如果分数超过了敏感度，请求将会被进行相应的动作处理。目前提供三种处理动作包括：

- 阻止-请求被丢弃

- 挑战-访问者会收到验证码挑战页面

- 日志记录-请求被允许通过，但记录在日志中


通过敏感度设置防御级别：高、中、低、关闭。


**安全加速 托管规则**


安全加速托管规则集，提供了对核心WAF安全的常见攻击规则。

**防火墙规则**

安全加速允许客户自定义防火墙规则，防火墙规则具备两个核心功能，

匹配：定义在节点运行下发的防火墙规则，过滤流量。
动作：定义匹配规则时安全加速应该执行的动作。

可作为过滤条件定义规则的字段有：ASN、Cookie、主机名、IP地址、refer、URI等等
可进行处理的动作包括：

- 允许-允许该请求

- 阻止-请求被丢弃

- 挑战-访问者会收到验证码挑战页面

- 日志记录-请求被允许通过，但记录在日志中

- JS挑战-发起JavaScript挑战
