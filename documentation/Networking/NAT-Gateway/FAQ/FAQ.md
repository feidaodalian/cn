# 常见问题

**Q: NAT网关与NAT实例主要区别**

A: NAT网关与NAT实例的主要区别如下表所示

| 属性 | NAT 网关 | NAT 实例 |
| :- | :- | :- |
| 可用性 | AZ高可用。每个可用区中的 NAT 网关都采用冗余实施。在每个可用区中创建一个 NAT 网关可确保架构不依赖于可用区。 | 使用脚本管理实例之间的故障转移。 |
| 带宽 | 最大4Gbps | 弹性公网IP带宽，可配置200M |
| 维护 | 由 JDcloud 管理。不需要客户进行任何维护。 | 由客户来管理，例如客户自己对实例安装软件更新或操作系统补丁。 |
| 性能 | 软件经过优化以便处理 NAT 流量。 | 配置来执行 NAT 的 镜像。|
| 费用 | 取决于使用的 NAT 网关的数量、使用时长以及 NAT 网关配置。 | 费用取决于您使用的 NAT 实例的数量、使用时长以及实例类型和大小。 |
| 类型和大小 | 需要按照规格（大、中和小）和带宽（1Mbps到1Gbps）来选择创建网关。 | 根据您的预测工作负载选择适当的实例类型和大小。 |
| 公有 IP 地址 | 在创建时自动申请Public IP 地址以与 NAT 网关关联。删除NAT网关时同时解绑并释放Public IPPublic IP和NAT网关同生命周期，不允许解绑 为 NAT 实例使用弹性 IP 地址或公有 IP 地址。 | 可以通过将新的弹性 IP 地址与实例关联来更改公有 IP 地址。 |
| 私有 IP 地址 | 在创建网关时自动从子网的 IP 地址范围中选择。| 在启动实例时，从子网的 IP 地址范围内分配特定的私有 IP 地址。|
| 安全组 | 无法与 NAT 网关关联。可以将安全组与 NAT 网关之后的资源关联，以控制入站和出站流量。 | 与您的 NAT 实例和 NAT 实例之后的资源关联，以控制入站和出站流量。 |
| 网络 ACL | 使用网络 ACL 控制进出您的 NAT 网关所在子网的流量。 | 使用网络 ACL 控制进出您的 NAT 实例所在子网的流量。|
| 流日志 | 暂不支持 | 使用流日志捕获流量。|
| 端口转发 | 不支持。 | 手动自定义配置以支持端口转发。 |
|流量指标 | 详情参见[NAT网关监控指标](../Operation-Guide/View-Nat-Gateway-Monitoring/View-Nat-Gateway-Monitoring.md) | 查看实例的 监控 指标。 |
| IP 分片 | 暂不支持 | 支持重组 UDP、TCP 和 ICMP 协议的 IP 分片。|
| ALG | icmp支持 | 其他暂不支持 由NAT实例镜像决定 |

**Q: 如何对NAT网关做网络访问控制**

A: NAT网关不支持安全组，可以通过配置NAT网关所在子网的ACL，或后端云主机的安全组和ACL进行网络的访问控制



**Q: 部署NAT网关有什么注意事项**

A: NAT网关和要使用NAT网关的云主机不要部署在同一个子网。 NAT网关部署完成后，要更新路由表使用NAT网关。NAT网关的公网IP不可解绑。



**Q: 可以在一个路由表里配置多条指向同一NAT网关的路由吗**

A:  可以，但多条路由网段不能相同。



**Q: NAT网关是如何计费的**

A: NAT网关的计费分为两部分，包括网关费用和访问 Internet的公网带宽费用。具体计费信息请参见[产品定价](../Pricing/Price-Overview.md)


**Q: 配置云主机所在子网路由下一跳为NAT网关后的公网出口问题**

A:  云主机所在子网配置默认路由规则0.0.0.0/0下一跳为NAT网关后，如没有配置优先级更高的访问互联网精细路由，有如下影响：（1）该子网内所有云主机将通过NAT网关访问互联网（2）子网内原绑定公网IP的云主机将不能再通过公网IP与互联网互通。
